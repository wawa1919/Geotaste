<!doctype html>
<html lang="en">
  <navbar>
    <%-include('./partials/navbar.ejs')%>
  </navbar>
    
  <header>
    <%-include('./partials/header.ejs')%>
  </header>
   <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>registration</title>
    <link
      rel="stylesheet"
      href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css"
    />
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css"
      integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh"
      crossorigin="anonymous"
    />
    <script
      src="https://code.jquery.com/jquery-3.4.1.js"
      integrity="sha256-WpOohJOqMqqyKL9FccASB9O0KwACQJpFTUBLTYOVvVU="
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"
      integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"
      integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6"
      crossorigin="anonymous"
    ></script>
       <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
       <link rel="stylesheet" href="resources/styles/register.css">
       <script src="../resources/scripts/register.js" ></script>
   </head>
   <body>
        <% 
        var image_src = 'https://geotaste-storage.s3.us-east-2.amazonaws.com/images/geo.png'; 
        %>
       <img src= "<%- image_src %>" alt="Avatar" class="center"/>
       <br /><br /><br /><br />
       <div class="text-center">
        <a
          href="#mylogin"
          class="btn btn-outline-dark btn btn-primary btn-lg button1 "
          data-toggle="modal"
          onclick="openModal()"
          >Log in</a>
       </div>
       <br>
       <br>
       <div class="text-center">
        <a
          href="#myModal"
          class="btn btn-outline-dark btn btn-primary btn-lg button1"
          data-toggle="modal"
          onclick="openModal()"
          >Sign up</a>
       </div>
       
       <br> <br>
      </div>
      <b class = "exists">
        <%
    if (error) {
      var buttons = 'user already exists. Try logging in!!';
      %> <%- buttons %>
      <% 
    } %>
      </b>
    </div>
      <div id="myModal" class="modal fade">
        <div class="modal-dialog modal-login">
          <div class="modal-content">
            <div class="modal-header">
              <div class="avatar">
                <img
                  src="https://www.tutorialrepublic.com/examples/images/avatar.png"
                  alt="Avatar"
                />
              </div>
              <form action= "/signup" method= "post">
              <h4 class="modal-title">Sign Up page</h4>
              <button
                type="button"
                class="close"
                data-dismiss="modal"
                aria-hidden="true"
              >
                &times;
              </button>
            </div>
            <div class="modal-body">
              <div class="form-group">
                <input
                  type="text"
                  class="form-control"
                  name="firstName"
                  placeholder="First Name"
                  required="required"
                />
              </div>
              <div class="form-group">
                <input
                  type="text"
                  class="form-control"
                  name="lastName"
                  placeholder="Last Name"
                  required="required"
                />
              </div>
              <div class="form-group">
                <input
                  id="email"
                  input = "text"
                  type="email"
                  class="form-control"
                  name="email"
                  placeholder="Email"
                  required="required"
                />
              </div>
              <div class="form-group">
                <input
                  id="user"
                  type="email"
                  class="form-control"
                  name="username"
                  placeholder="Username"
                  required="required"
                />
              </div>
              <div class="form-group">
                <input
                  id="psw"
                  type="password"
                  class="form-control"
                  name="password"
                  placeholder="Password"
                  required="required"
                />
              </div>
              <div class="form-group">
                <input
                  id="cpsw"
                  type="password"
                  class="form-control"
                  name="confirm password"
                  placeholder="Confirm Password"
                  required="required"
                />
              </div>
              <div>
                <b>
                  <%
              if (error) {
                var buttons = 'user already exists';
                %> <%- buttons %>
                <% } %>
                </b>
              </div>
              <div class="form-group">
                <button
                  id="my_submit_button"
                  class="btn btn-primary btn-block login-btn"
                  disabled
                  onclick = "this.form.submit()"
                  >Sign up
                </button>
              </div>
            </div>
            <div class="modal-footer">
              <div id="message" style="display: block">
                <h3>Password must contain the following:</h3>
                <p id="letter" class="invalid">A <b>lowercase</b> letter</p>
                <p id="capital" class="invalid">
                  A <b>capital (uppercase)</b> letter
                </p>
                <p id="number" class="invalid">A <b>number</b></p>
                <p id="length" class="invalid">Minimum <b>8 characters</b></p>
                <p id="match" class="invalid">
                  Password and Confirm Password Match
                </p>
          </div>
        </div class = "exists">
      </div>
        </div>
      </div>
      <br /><br /><br />
    </form> 
    <form action= "/login" method= "post">
      <div id="mylogin" class="modal fade">
        <div class="modal-dialog modal-login">
          <div class="modal-content">
            <div class="modal-header">
              <div class="avatar">
                <img
                  src="https://www.tutorialrepublic.com/examples/images/avatar.png"
                  alt="Avatar"
                />
              </div>
              <h4 class="modal-title">Login Page</h4>
              <button
                type="button"
                class="close"
                data-dismiss="modal"
                aria-hidden="true"
              >
                &times;
              </button>
            </div>
            <div class="modal-body">
              <div class="form-group">
                <input
                  id="cs_login"
                  type="username"
                  class="form-control"
                  name="username"
                  placeholder="Username"
                  required="required"
                />
              </div>
              <div class="form-group">
                <input
                  id="cs-loginpsw"
                  type="password"
                  class="form-control"
                  name="password"
                  placeholder="Password"
                  required="required"
                />
              </div>
              <div class="form-group">
                <button
                  id="my_submit_button"
                  class="btn btn-primary btn-block login-btn"
                  onclick = "this.form.submit()">
                  Login
                </button>
              </div >
              <b>
                <%
						if (error) {
							var buttons = 'Login Failed';
							%> <%- buttons %>
              <% } %>
              </b>
            </div>
            </div>
          </div>
        </div>
      </div>
       </form>
   </body>
</html>
 
<!-- verify passwords, errors
  if the user exists then show better error
  if the user cannot login then show better error
 -->